<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MovieNest API Documentation</title>

    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <h1>MovieNest API Documentation</h1>
    
    <p>Built for the MovieNest App, the MovieNest API is designed to provide users with access to a wide range of movie information and functionalities.</p>

    <h2>Features</h2>
    <ul>
        <li><strong>Get All Movies</strong>: Retrieve a list of all movies available in the database.</li>
        <li><strong>Get Movie Details</strong>: Retrieve detailed information about a specific movie by its title.</li>
        <li><strong>Get Genre Details</strong>: Retrieve information about a genre, including its description, by its name.</li>
        <li><strong>Get Director Details</strong>: Retrieve information about a director, including their biography, birth year, and death year, by their name.</li>
        <li><strong>User Authentication and Authorization</strong>: Allow users to register, update their user information, add movies to their list of favorites, remove movies from their list of favorites, and deregister.</li>
    </ul>

    <h2>Technical Overview</h2>
    <ul>
        <li><strong>Node.js and Express Application</strong>: The API is built using Node.js and Express.</li>
        <li><strong>REST Architecture</strong>: Utilizes REST architecture with URL endpoints corresponding to various data operations.</li>
        <li><strong>Middleware Modules</strong>: Incorporates at least three middleware modules, including body-parser and morgan.</li>
        <li><strong>Database</strong>: Utilizes MongoDB for data storage.</li>
        <li><strong>Mongoose</strong>: Models business logic using Mongoose.</li>
        <li><strong>JSON Format</strong>: Provides movie information in JSON format.</li>
        <li><strong>Postman Testing</strong>: Thoroughly tested in Postman.</li>
        <li><strong>User Authentication and Authorization</strong>: Includes user authentication and authorization code.</li>
        <li><strong>Data Validation Logic</strong>: Implements data validation logic.</li>
        <li><strong>Data Security Regulations</strong>: Meets data security regulations.</li>
        <li><strong>Deployment</strong>: Source code is deployed to GitHub and Heroku.</li>
    </ul>

    <h2>API Endpoints</h2>
    <table>
        <thead>
            <tr>
                <th>Business Logic</th>
                <th>URL</th>
                <th>HTTP Method</th>
                <th>Request Body Data Format</th>
                <th>Response Body Data Format</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Return a list of all movies to the user</td>
                <td>/movies</td>
                <td>GET</td>
                <td>None</td>
                <td>A JSON object holding data about all movies.</td>
            </tr>
            <tr>
                <td>Return data about a single movie by title to the user (description, genre, director, image URL, whether it’s featured or not)</td>
                <td>/movies/[MOVIE TITLE]</td>
                <td>GET</td>
                <td>None</td>
                <td>
                    <p>A JSON object holding data about a single movie, containing a title, description, genre, director, year, and image URL.<br>
                    Example:<br>
                    </p>
                    <pre>{
                        "Genre": {
                               "Name": "Adventure",
                               "Description": "Movies that involve exploration, travel, and exciting journeys, often set in exotic locations. They usually include a quest or mission."
                           },
                           "Director": {
                               "Name": "Greta Gerwig",
                               "Bio": "Greta Gerwig is an American actress, screenwriter, and director. She has collaborated with Noah Baumbach on several films and is known for her directorial work on Lady Bird, Little Women, and Barbie.",
                               "Birth": "1983",
                               "Death": ""
                           },
                           "Actors": [],
                           "_id": "665ef9629dddec05c68fcd0d",
                           "Title": "Barbie",
                           "Description": "Barbie and Ken are having the time of their lives in the colorful and seemingly perfect world of Barbie Land. However, they soon discover the joys and perils of living among humans.",
                           "ImagePath": "barbie.png",
                           "Featured": true
                       }</pre>
                </td>
            </tr>
            <tr>
                <td>Return data about a genre (description) by genre name (e.g., “Drama”)</td>
                <td>/movies/genres/[GENRE NAME]</td>
                <td>GET</td>
                <td>None</td>
                <td>
                    <p>A JSON object holding data about a single genre, containing a name and description.<br>
                        Example:<br>
                        </p>
                        <pre>{
                            "Name": "Drama",
                               "Description": "Stories with serious, emotional, and often real-life situations. They focus on character development and narrative, often dealing with complex issues."
                           }</pre>
                </td>
            </tr>
            <tr>
                <td>Return data about a director (bio, birth year, death year) by name</td>
                <td>/movies/directors/[DIRECTOR NAME]</td>
                <td>GET</td>
                <td>None</td>
                <td>
                    <p>A JSON object holding data about a single director, containing their name, bio, year of birth, and year of death.<br>
                        Example:<br>
                        </p>
                        <pre>{
                            "Name": "Greta Gerwig",
                               "Bio": "Greta Gerwig is an American actress, screenwriter, and director. She has collaborated with Noah Baumbach on several films and is known for her directorial work on Lady Bird, Little Women, and Barbie.",
                               "Birth": "1983",
                               "Death": ""
                           }</pre>
                </td>
            </tr>
            <tr>
                <td>Allow new users to register</td>
                <td>/users</td>
                <td>POST</td>
                <td>
                    <p>A JSON object holding data about the student to add, structured accordingly:</p>
                    <pre>{
                        "Username": "TestUser",
                        "Password": "testuserpw",
                        "Email": "testuser@example.com",
                        "BirthDate": "2000-11-11"
                      }</pre>
                </td>
                <td>
                    <p>A JSON object holding data about the newly registered user, including their name, any favourite movies given, and their ID.</p>
                    <pre>{
                        "Username": "TestUser",
                        "Password": "testuserpw",
                        "Email": "testuser@example.com",
                        "BirthDate": "2000-11-11T00:00:00.000Z",
                        "FavouriteMovies": [],
                        "_id": "6661711dd218ae9ced6d0939",
                        "__v": 0
                    }</pre>
                </td>
            </tr>
            <tr>
                <td>Allow users to update their user info (username, password, email, date of birth)</td>
                <td>/users/[USERNAME]</td>
                <td>PUT</td>
                <td>
                    <p>A JSON object holding data about the information to update, structured accordingly:</p>
                    <pre>{
                        "Username": "TestUser",
                        "Password": "testuserpw",
                        "Email": "testuser@example.com",
                        "BirthDate": "2000-11-11"
                      }</pre>
                </td>
                <td>
                    <p>A JSON object holding the updated data about the user, including their name, current favourite movies, and their ID.<br>
                        Example:<br>
                        </p>
                        <pre>{
                            "_id": "665f02b69dddec05c68fcd17",
                               "Username": "TestUser",
                               "Password": "newpw",
                               "Email": "testuser@example.com",
                               "BirthDate": "2000-11-11T00:00:00.000Z",
                               "FavouriteMovies": [
                                   "665ef9629dddec05c68fcd0d",
                                   "665efb289dddec05c68fcd0f",
                                   "665efbd49dddec05c68fcd15"
                               ]
                           }</pre>
                </td>
            </tr>
            <tr>
                <td>Allow users to add a movie to their list of favourites</td>
                <td>/users/[USERNAME]/[MOVIE ID]</td>
                <td>POST</td>
                <td>None</td>
                <td>
                    <p>A JSON object holding the updated data about the user, including their name, current favourite movies, and their ID.<br>
                        Example:<br>
                        </p>
                        <pre>{
                            "_id": "665f02b69dddec05c68fcd17",
                            "Username": "TestUser",
                            "Password": "newpw",
                            "Email": "testuser@example.com",
                            "BirthDate": "2000-11-11T00:00:00.000Z",
                            "FavouriteMovies": [
                                "665ef9629dddec05c68fcd0d",
                                "665efb289dddec05c68fcd0f",
                                "665efbd49dddec05c68fcd15"
                            ]
                        }</pre>
                </td>
            </tr>
            <tr>
                <td>Allow users to remove a movie from their list of favourites</td>
                <td>/users/[USERNAME]/[MOVIE ID]</td>
                <td>DELETE</td>
                <td>None</td>
                <td>
                    <p>A JSON object holding the updated data about the user, including their name, current favourite movies, and their ID.<br>
                        Example:<br>
                        </p>
                        <pre>{
                            "_id": "665f02b69dddec05c68fcd17",
                            "Username": "TestUser",
                            "Password": "newpw",
                            "Email": "testuser@example.com",
                            "BirthDate": "2000-11-11T00:00:00.000Z",
                            "FavouriteMovies": [
                                "665ef9629dddec05c68fcd0d",
                                "665efb289dddec05c68fcd0f",
                                "665efbd49dddec05c68fcd15"
                            ]
                        }</pre>
                </td>
            </tr>
            <tr>
                <td>Allow existing users to deregister</td>
                <td>/users/[USERNAME]</td>
                <td>DELETE</td>
                <td>None</td>
                <td>A text message indicating whether a user was successfully deregistered.</td>
            </tr>
            <tr>
                <td>Return a list of all Users</td>
                <td>/users</td>
                <td>GET</td>
                <td>None</td>
                <td>A JSON object holding data about all users.</td>
            </tr>
            <tr>
                <td>Return data about a single user by Username</td>
                <td>/users/[USERNAME]</td>
                <td>GET</td>
                <td>None</td>
                <td>
                    <p>A JSON object holding data about a single user, containing their Username, Password, Email, Birthday, and Favourite Movies.
                        <br>
                        Example:<br>
                        </p>
                        <pre>{
                            "_id": "665f02b69dddec05c68fcd17",
                            "Username": "TestUser",
                            "Password": "newpw",
                            "Email": "testuser@example.com",
                            "BirthDate": "2000-11-11T00:00:00.000Z",
                            "FavouriteMovies": [
                                "665ef9629dddec05c68fcd0d",
                                "665efb289dddec05c68fcd0f",
                                "665efbd49dddec05c68fcd15"
                            ]
                        }</pre>
                </td>
            </tr>
            
            
        </tbody>
    </table>

</body>
</html>
